
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
      <meta charset="utf-8" />
      <meta name="author" content="Lorand Kallai" />
      <meta name="description" content="Supplier Quality Documents" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <meta name="keywords" content="html,html5,web development" />
      <title>PPM Supplier Quality Database</title>
      <link rel="icon" href="img/favicon.ico" />

      <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
      <script type="text/javascript" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>      
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>      <script type="text/javascript" src="js/DataTables/datatables.min.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
      <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.1/js/dataTables.buttons.min.js"></script>
      <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.html5.min.js"></script>
      <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.print.min.js"></script>
      <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.flash.min.js"></script>

      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
      <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css"/>
      <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.6.1/css/buttons.dataTables.min.css"/>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
          <!-- Brand -->
          <a class="navbar-brand" href="#">
              <img src="img/LinamarLogo.png" class="img-fluid" style="max-width: 150px" alt="Responsive image">
          </a>

          <!-- Links -->
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="/beszallitok">Beszállítók</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/tanusitvanyok">Tanusítványok</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/psw">PSW-k</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/ppap">PPAP-ok</a>
            </li>

            <!-- Dropdown -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                Határidős feladatok
              </a>
              <div class="dropdown-menu">
                  <a class="dropdown-item" href="docs.html">Hamarosan lejáró dokumentumok</a>
                  <a class="dropdown-item" href="/actionplans">Action planek</a>
                  <a class="dropdown-item" href="meetingminutes.html">Meeting minutes</a>
              </div>
            </li>
          </ul>
        </nav>
  </header>
        <script>
        $(document).ready(function() {
          var table = $('#contacts').DataTable( {
              orderCellsTop: true,
              fixedHeader: true,
              pagingType: "full_numbers",
              dom: 'lBfrtip',
              "ajax": {
                "url":'/api/contacts',
                "dataSrc": ""},
                
              columns: [
                        {
                          "data": "Supplier"
                        },
                        {
                          "data": "Project"
                        },
                        {
                          "data": "ContactName"
                        },
                        {
                          "data": "Position"
                        },
                        {
                          "data": "PhoneNumber"
                        },
                        {
                          "data": "email"
                        }
                      ],
              initComplete: function () {
              this.api().columns().every(function () {
              var column = this
              var select = $('<select><option value=""></option></select>')
                  .appendTo($(column.footer()).empty())
                  .on('change', function () {
                      var val = $.fn.dataTable.util.escapeRegex(
                          $(this).val()
                      )

                      column
                          .search(val ? '^' + val + '$' : '', true, false)
                          .draw()
                  })

              column.data().unique().sort().each(function (d, j) {
                  select.append('<option value="' + d + '">' + d + '</option>')
              })
          })
              },
              language: {
              sEmptyTable: "Nincs rendelkezésre álló adat",
              sInfo: "Találatok: _START_ - _END_ Összesen: _TOTAL_",
              sInfoEmpty: "Nulla találat",
              sInfoFiltered: "(_MAX_ összes rekord közül szűrve)",
              sInfoPostFix: "",
              sInfoThousands: " ",
              sLengthMenu: "_MENU_ találat oldalanként",
              sLoadingRecords: "Betöltés...",
              sProcessing: "Feldolgozás...",
              sSearch: "Keresés:",
              sZeroRecords: "Nincs a keresésnek megfelelő találat",
              oPaginate: {
                  sFirst: "Első",
                  sPrevious: "Előző",
                  sNext: "Következő",
                  sLast: "Utolsó"
              },
              oAria: {
                  sSortAscending: ": aktiválja a növekvő rendezéshez",
                  sSortDescending: ": aktiválja a csökkenő rendezéshez"
              },
              select: {
                  rows: {
                      _: "%d sor kiválasztva",
                      0: "",
                      1: "1 sor kiválasztva"
                  }
              },

              buttons: {
                  print: "Nyomtatás",
                  extend: 'excel',
                  text: 'Save current page',
                  exportOptions: {
                  modifier: {
                    page: 'current'
                    }
                  },
                  colvis: "Oszlopok",
                  copy: "Másolás",
                  copyTitle: "Vágólapra másolás",
                  copySuccess: {
                      _: "%d sor másolva",
                      1: "1 sor másolva"
                  }
              }
            },
              buttons: [
              'excel', 'pdf', 'print'
              ]
          })
          $(".buttons-excel, .buttons-pdf, .buttons-print").removeClass("btn-secondary").addClass("btn-success")
          $('div#contacts_filter').find('LABEL').attr('style', 'display:flex;');
        })
      </script>
        <table id="contacts" class="display tg table table-hover table-bordered" style="width:100%">
          <thead>
            <tr>
              <th>Beszállító</th>
              <th>Projekt</th>
              <th>Kontakt név</th>
              <th>Beosztás</th>
              <th>Telefonszám</th>
              <th>E-mail</th>
            </tr>
          </thead>
          <tfoot>
            <tr>
              <th>Beszállító</th>
              <th>Projekt</th>
              <th>Kontakt név</th>
              <th>Beosztás</th>
              <th>Telefonszám</th>
              <th>E-mail</th>
            </tr>
          </tfoot>
        </table>

  <form action="/contacts" method="post">
        <div class="modal fade" id="modalContactForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header text-center">
              <h4 class="modal-title w-100 font-weight-bold">Adatok megadása</h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body mx-3">
              <div class="md-form mb-5">
                <i class="fas fa-building prefix grey-text"></i>
                <input type="text" id="form31" name="Supplier" class="form-control" required>
                <label data-error="wrong" data-success="right" for="form31">Beszállító</label>
              </div>
              <div class="md-form mb-5">
                <i class="fas fa-project-diagram prefix grey-text"></i>
                <input type="text" id="form32" name="Project" class="form-control" required>
                <label data-error="wrong" data-success="right" for="form32">Projekt</label>
              </div>
              <div class="md-form mb-5">
                <i class="fas fa-user prefix grey-text"></i>
                <input type="text" id="form33" name="ContactName" class="form-control" required>
                <label data-error="wrong" data-success="right" for="form33">Kontakt név</label>
              </div>
              <div class="md-form mb-5">
                <i class="fas fa-user-graduate prefix grey-text"></i>
                <input type="text" id="form34" name="Position" class="form-control" required>
                <label data-error="wrong" data-success="right" for="form34">Beosztás</label>
              </div>
              <div class="md-form mb-5">
                <i class="fas fa-phone-alt prefix grey-text"></i>
                <input type="tel" id="form35" name="PhoneNumber" class="form-control" required>
                <label data-error="wrong" data-success="right" for="form35">Telefonszám</label>
              </div>
              <div class="md-form mb-5">
                <i class="fas fa-envelope prefix grey-text"></i>
                <input type="email" id="form29" name="email" class="form-control validate">
                <label data-error="wrong" data-success="right" for="form29">E-mail</label>
              </div>
            </div>
            <div class="modal-footer d-flex justify-content-center">
              <button type="submit" class="btn btn-success">Mentés <i class="fas fa-paper-plane-o ml-1"></i></button>
              <button class="btn btn-danger" class="close"  data-dismiss="modal" aria-label="Close" onclick="modalReset()">Mégse <i class="fas fa-paper-plane-o ml-1"></i></button>
            </div>
          </div>
          </div>
        </div>
  </form>
        <script>
          function modalReset() {
            $(':input').val('');
          }
          </script>
        <button class="btn btn-primary btn-lg" role="button" aria-pressed="true" data-toggle="modal" data-target="#modalContactForm">Új kontakt hozzáadása</button>


        <a href="#" class="btn btn-primary btn-lg btn-warning" role="button" aria-pressed="true">Kontakt módosítása</a>
        <a href="#" class="btn btn-primary btn-lg btn-danger" role="button" aria-pressed="true">Kontakt törlése</a>


      <footer id="footer" class="container-fluid bg-light">
          <div class="row">
              <p>Linamar PPM</p>
           </div>
      </footer>
  </body>
</html>